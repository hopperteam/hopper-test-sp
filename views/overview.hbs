<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">  
    </head>
    <body>
        <h1>Your Workspace [#{{index}}]</h1>
        <h3>Hello {{username}}!</h3>
        <fieldset>
            <legend>Service Provider</legend>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Base URL</th>
                    <th>Logo URL</th>
                    <th>Image URL</th>
                    <th>Contact Email</th>
                    <th></th>
                </tr>
                {{#each serviceProvider}}
                    <tr>
                        <td>{{this.name}}</td>
                        <td>{{this.baseUrl}}</td>
                        <td>{{this.logoUrl}}</td>
                        <td>{{this.imageUrl}}</td>
                        <td>{{this.contactEmail}}</td>
                        <td><a href='/serviceprovider?id={{this.id}}&&index={{../index}}'>change</a></td>
                    </tr>
                {{/each}}
            </table>
            <form method="post" action="newsp">
            <fieldset>
                <legend>Add new</legend>
                User:<br>
                <input type="text" name="username" value={{username}} readonly>
                <input type="text" name="index" value={{index}} readonly><br>
                Name:<br>
                <input type="text" name="name" value=""><br>
                Base URL:<br>
                <input type="text" name="baseUrl" value=""><br>
                Logo URL:<br>
                <input type="text" name="logoUrl" value=""><br>
                Image URL:<br>
                <input type="text" name="imageUrl" value=""><br>
                Contact Email:<br>
                <input type="text" name="contactEmail" value=""><br><br>
                 Password:<br>
                <input type="password" name="password" value=""><br><br>
                <input type="submit" value="Create">
            </fieldset>
        </form>
        </fieldset>
        <fieldset>
            <legend>Addresser</legend>
            <table>
                <tr>
                    <th>Name</th>
                    <th>App</th>
                    <th>Approved</th>
                    <th></th>
                </tr>
                {{#each addresser}}
                    <tr>
                        <td>{{this.accountName}}</td>
                        <td>{{this.appName}}</td>
                        <td>{{this.approved}}</td>
                        <td><a href='/notification?id={{this.id}}&appId={{this.appId}}&index={{../index}}'>send notification</a></td>
                    </tr>
                {{/each}}
            </table>
            <form method="post" action="newad">
                <fieldset>
                    <legend>Add new</legend>
                    Username:<br>
                    <input type="text" name="username" value={{username}} readonly>
                    <input type="text" name="index" value={{index}} readonly><br>
                    Account Name:<br>
                    <input type="text" name="accountName" value=""><br>
                    App:<br>
                    <select name="appId">
                        <option value="none" disabled>None</option>
                        {{#each serviceProvider}}
                            <option value={{this.id}}>{{this.name}}</option>
                        {{/each}}
                    </select><br><br>
                    Password:<br>
                    <input type="password" name="password" value=""><br><br>
                    <input type="submit" value="Create">
                </fieldset>
            </form>
        </fieldset>
        <fieldset>
            <legend>Historie</legend>
            <table>
                <tr>
                    <th>Heading</th>
                    <th>App</th>
                    <th>Timestamp</th>
                    <th>Image URL</th>
                    <th>Is Done</th>
                    <th>Is Silent</th>
                    <th>Type</th>
                    <th>Content</th>
                </tr>
                {{#each notifications}}
                    <tr>
                        <td>{{this.heading}}</td>
                        <td>{{this.subscription}}</td>
                        <td>{{this.timestamp}}</td>
                        <td>{{this.imageUrl}}</td>
                        <td>{{this.isDone}}</td>
                        <td>{{this.isSilent}}</td>
                        <td>{{this.type}}</td>
                        <td>{{this.content}}</td>
                    </tr>
                {{/each}}
            </table>
        </fieldset>
    </body>
</html>